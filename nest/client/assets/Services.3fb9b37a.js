var e=new class{constructor(){this.BASE_URL="https://trianapp.herokuapp.com"}get(e){return new Promise((t=>{fetch(this.BASE_URL+e.path,{method:"GET",mode:"no-cors"}).then((e=>e.json())).then((e=>{200==e.code||201==e.code?t({success:!0,code:e.code,data:e}):t({success:!1,code:e.code,data:e})})).catch((e=>{t({success:!1,data:e,code:900})}))}))}post(e){return new Promise((t=>{let s;switch(e.type){case"json":s=fetch(this.BASE_URL+e.path,{body:e.body,method:"POST",headers:{"content-type":"application/json"},mode:"no-cors"});break;case"form-data":s=fetch(this.BASE_URL+e.path,{body:e.body,method:"POST",headers:{"content-type":"multipart/form-data"},mode:"no-cors"});break;case"urlencoded":s=fetch(this.BASE_URL+e.path,{body:e.body,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},mode:"no-cors"})}s.then((e=>e.json())).then((e=>{200==e.code||201==e.code?t({success:!0,code:200,data:e}):t({success:!1,code:400,data:e})})).catch((e=>{t({success:!1,data:e,code:900})}))}))}put(e){return new Promise((e=>{}))}login(e){return new Promise((t=>{this.post({path:"/api/login",body:e,type:"json"}).then((e=>{var s;e.success&&this.saveUser(null==(s=e.data)?void 0:s.data[0]),t(e)}))}))}register(e){return new Promise((t=>{this.post({path:"/api/register",body:e,type:"json"}).then((e=>{var s;e.success&&this.saveUser(null==(s=e.data)?void 0:s.data),t(e)}))}))}saveUser(e){window.sessionStorage.setItem("zZZaAbB",e)}getUser(){return window.sessionStorage.getItem("zZZaAbB")}};export{e as a};
